/*
  Colores de Qonta
  Azul Cian/Claro: #4DC9E5
  Azul Oscuro/Morado: #3D337F
*/

:root {
  /* Colores primarios y de acento para el tema */
  --md-primary-fg-color:        #3D337F;
  --md-accent-fg-color:         #4DC9E5;

  /* Colores de texto y fondo para el modo oscuro (slate) */
  --md-default-fg-color:        #F5F5F5;
  --md-default-bg-color:        #1a1a1a;
}

/* --- ESTILOS DE NAVEGACIÓN LATERAL --- */

/* Fondo de la barra lateral (un poco más claro que el fondo principal) */
.md-sidebar {
  background-color: #2b2b2b !important;
}

/* Color de texto de los enlaces de navegación */
.md-nav__link {
  color: var(--md-default-fg-color) !important;
}

/* Color del enlace al pasar el ratón y cuando está activo */
.md-nav__link:hover,
.md-nav__link--active {
  color: var(--md-accent-fg-color) !important;
}

/* Estilo para el elemento de navegación activo (resaltado) */
.md-nav__item--active > .md-nav__link {
  background-color: rgba(77, 201, 229, 0.1); /* Fondo sutil con color de acento */
  border-left: 3px solid var(--md-accent-fg-color); /* Borde izquierdo */
  padding-left: calc(1.2rem - 3px); /* Ajuste para compensar el borde */
}

/* --- OTROS AJUSTES DE COLOR --- */

/* Encabezado superior */
.md-header {
  background-color: var(--md-primary-fg-color) !important;
}

/* Enlaces en el contenido principal */
.md-typeset a {
  color: var(--md-accent-fg-color);
}

/* Estilos para el zoom de diagramas Mermaid */
.mermaid svg {
  cursor: move; /* Cambia el cursor a una mano para indicar que se puede arrastrar */
  cursor: grab;
}

.mermaid svg:active {
  cursor: grabbing;
}

/* --- OVERRIDES PARA DIAGRAMAS C4 (C4Context / C4Container) --- */
/* Aplica colores a nodos específicos generados con IDs basados en los identificadores Mermaid */
.mermaid svg g[id*="usuario_cliente"] rect,
.mermaid svg g[id*="usuario_cliente"] ellipse,
.mermaid svg g[id*="usuario_cliente"] polygon {
  fill: #4DC9E5 !important;
  stroke: #3D337F !important;
  stroke-width: 2px !important;
}

.mermaid svg g[id*="admin_qonta"] rect,
.mermaid svg g[id*="admin_qonta"] ellipse,
.mermaid svg g[id*="admin_qonta"] polygon {
  fill: #4DC9E5 !important;
  stroke: #3D337F !important;
  stroke-width: 2px !important;
}

.mermaid svg g[id*="integrador_externo"] rect,
.mermaid svg g[id*="integrador_externo"] ellipse,
.mermaid svg g[id*="integrador_externo"] polygon {
  fill: #4DC9E5 !important;
  stroke: #3D337F !important;
  stroke-width: 2px !important;
}

.mermaid svg g[id*="qonta_sistema"] rect,
.mermaid svg g[id*="qonta_sistema"] ellipse,
.mermaid svg g[id*="qonta_sistema"] polygon {
  fill: #3D337F !important;
  stroke: #4DC9E5 !important;
  stroke-width: 2px !important;
  color: #F5F5F5 !important;
}

/* Sistemas externos con fondo translúcido */
.mermaid svg g[id*="dian"] rect,
.mermaid svg g[id*="kiai_pt"] rect,
.mermaid svg g[id*="erp_contable"] rect,
.mermaid svg g[id*="smtp_server"] rect {
  fill: rgba(255,255,255,0.06) !important;
  stroke: #3D337F !important;
  stroke-width: 2px !important;
}

/* Asegurar color del texto dentro de los nodos */
.mermaid svg g[class*="node"] text {
  fill: var(--md-default-fg-color) !important;
}

/* Reglas adicionales más generales para capturar varias convenciones de C4/Mermaid */
.mermaid svg g[class*="person"] rect,
.mermaid svg g[class*="person"] ellipse,
.mermaid svg g[class*="actor"] rect,
.mermaid svg g[class*="actor"] ellipse,
.mermaid svg g[class*="persona"] rect,
.mermaid svg g[class*="persona"] ellipse,
.mermaid svg g[class*="user"] rect,
.mermaid svg g[class*="user"] ellipse {
  fill: #4DC9E5 !important;
  stroke: #3D337F !important;
  stroke-width: 2px !important;
}

.mermaid svg g[class*="system"] rect,
.mermaid svg g[class*="system"] ellipse,
.mermaid svg g[class*="sistema"] rect,
.mermaid svg g[class*="sistema"] ellipse {
  fill: #3D337F !important;
  stroke: #4DC9E5 !important;
  stroke-width: 2px !important;
}

.mermaid svg g[class*="external_system"] rect,
.mermaid svg g[class*="external-system"] rect,
.mermaid svg g[class*="externalSystem"] rect,
.mermaid svg g[class*="external"] rect,
.mermaid svg g[class*="external"] ellipse {
  fill: rgba(255,255,255,0.06) !important;
  stroke: #3D337F !important;
  stroke-width: 2px !important;
}

/* Fallback: si Mermaid no añade clases, intentar aplicar por posición semántica
   (último recurso - podría afectar otros diagramas) */
.mermaid svg g:nth-of-type(1) rect { }